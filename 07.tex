\chapter{}

\topic{Local rings}

In this section, we will consider arbitrary rings with one. 

\begin{definition}
    \index{Ring!local}
    A ring is said to be \textbf{local} if it contains only one maximal left ideal. 
\end{definition}

Division rings are local rings. 

% \begin{exercise}
%     Let $R$ be a commutative ring with one and $P$ be a prime ideal. Let  
%     $S=R\setminus P$. Then the localization $S^{-1}R$ is a local ring with maximal ideal $S^{-1}P$. 
% \end{exercise}

\begin{theorem}
\label{thm:local}
    Let $R$ be a ring and $I=R\setminus\mathcal{U}(R)$. The following
    statements are equivalent:
    \begin{enumerate}
        \item $R$ is local.
        \item $R/J(R)$ is a division ring.
        \item $I=J(R)$.
        \item $I$ is an ideal of $R$.
    \end{enumerate}
\end{theorem}

\begin{proof}
    We first prove $1)\implies2)$. Let $M$ be the maximal left ideal of $R$. Then $J(R)=M$. 
    Let $x\not\in M$. Then $R=Rx+M$, so $1=rx+m$ for some $r\in R$ and $m\in M$. Thus  
    $r+M$ is a left inverse of $x+M$ and hence $R/M$ is a division ring. In particular, 
    $r\not\in M$. Since $R=Rr+M$, there exists $y\in R$ such that $1=yr$. Therefore
    $y+M$ is a left inverse of $r+M$. Thus 
    \begin{align*}
    y+M&=(y+M)(1+M)=(y+M)(r+M)(x+M)\\
    &=(yr+M)(x+M)=(1+M)(x+M)=x+M
    \end{align*}
    and hence $x+M$ is invertible. 

    Now we prove $2)\implies3)$. Clearly $J(R)\subseteq I$. 
    Conversely, let $x\in I$. If $x\not\in J(R)$, then
    $x+J(R)\ne 0$. Since $R/J(R)$ is a division ring, 
    $x+J(R)\in\mathcal{U}(R/J(R))$. In particular,  
    $1-rx\in J(R)\subseteq I$ for some $r\in R$. Since $x\in I$, 
    $rx\in I$. Therefore $1=1-rx+rx\in I$, a contradiction. 
    
    It is trivial that $3)\implies4)$. 

    Finally, we prove $4)\implies 1)$. 
    Let $M$ be a maximal left ideal of $R$. Then $M\subseteq I$. Since $M$ 
    is maximal and $I$ is in particular a left ideal of $R$, 
    it follows that $M=I$. 
\end{proof}

\begin{definition}
    \index{Idempotent}
    An element $x$ of a ring is said to be \textbf{idempotent} 
    if $x^2=x$.   
\end{definition}

\index{Trivial idempotent}
Examples of idempotents are 0 and 1. 
An idempotent $x$ is said to be \textbf{non-trivial} if $x\not\in\{0,1\}$. 

\begin{exercise}
\label{xca:idempotents_modpm}
    Let $p$ be a prime number and $m>0$. 
    Prove that the only idempotents of $\Z/p^m$ are 0 and 1. 
\end{exercise}


\begin{exercise}
    \label{xca:idempotents_modn}
    How many idempotent does $\Z/n$ have?
\end{exercise}

\begin{exercise}
\label{xca:lifting_idempotents}
    Let $R$ be a ring with one and $I$ be an ideal of $R$. 
    We say that an idempotent $x\in R/I$ can be lifted if $x=e+I$ for
    some idempotent $e$ of $R$. 
    Prove that if every element of $I$ is nilpotent, then every 
    idempotent of $R/I$ can be lifted. 
\end{exercise}

The previous exercise shows that if $R$ is left artinian, 
every idempotent of $R/J(R)$ can be lifted to $R$. 

\begin{lemma}
\label{lem:J(R)_nil}
    Let $R$ be a left artinian ring. Then $J(R)$ is nil. 
\end{lemma}

\begin{proof}
    Let $x\in J(R)$. The sequence $Rx\supseteq Rx^2\supseteq\cdots$ stabilizes, so
    $Rx^n=Rx^{n+1}$ for some $n$. In particular, there exists $r\in R$ 
    such that $x^n=rx^{n+1}$. This implies that $(1-rx)x^n=0$. Since $x\in J(R)$, 
    the element $1-rx$ is invertible. Hence $x^n=0$.  
\end{proof}

\begin{theorem}
\label{thm:local_idempotent}
    Let $R$ be a left artinian ring. Then $R$ is local if and only if 
    $R$ has no non-trivial idempotents. 
\end{theorem}

\begin{proof}
    Let us first prove $\implies$. For this implication, we do not need to use that 
    $R$ is left artinian. Let $x\in R$ be an idempotent. Then $x(1-x)=0$. If $x\in\mathcal{U}(R)$, then 
    $x=1$. If $1-x\in\mathcal{U}(R)$, then $x=0$. If $x\not\in \mathcal{U}(R)$ and $1-x\not\in\mathcal{U}(R)$, 
    then, since $R\setminus\mathcal{U}(R)$ is an ideal of $R$, 
    it follows that 
    $1=x+1-x\not\in\mathcal{U}(R)$, a contradiction. 

    Now we prove $\impliedby$. By the previous lemma, $J(R)$ is nil. 
    By the previous exercise, every idempotent of $R/J(R)$ can be lifted. Thus $R/J(R)$ has 
    no non-trivial idempotents. On the other hand, by Artin--Wedderburn, 
    \[
    R/J(R)\simeq\prod_{i=1}^kM_{n_i}(D_i)
    \]
    for some $n_1,\dots,n_k\geq1$ and division rings $D_1,\dots,D_k$. Then 
    $k=n_1=1$, as $R/J(R)$ has no non-trivial idempotents. Since $R/J(R)$ is a division ring, 
    $R$ is local by the previous theorem. 
\end{proof}

\begin{theorem}
    The center of a local ring is local. 
\end{theorem}

\begin{proof}
    Let $R$ be a local ring. By Theorem \ref{thm:local}, $J(R)=R\setminus\mathcal{U}(R)$.  
    We need to prove that $Z(R)\setminus\mathcal{U}(Z(R))=J(Z(R))$. 
    We first note that
    \begin{equation}
    \label{eq:U(Z(R))}
        \mathcal{U}(Z(R))=Z(R)\cap\mathcal{U}(R).
    \end{equation}
    
    We claim that $Z(R)\cap J(R)\subseteq J(Z(R))$.  
    Let $x\in Z(R)\cap J(R)$. Let $z\in Z(R)$. Since $x\in J(R)$, $1-zx\in\mathcal{U}(R)$.
    Moreover, $1-zx\in Z(R)$. Thus 
    \[
    1-zx\in Z(R)\cap\mathcal{U}(R)=\mathcal{U}(Z(R)).
    \]
    Hence $x\in J(Z(R))$. 

    To prove the theorem it is enough to show that 
    $Z(R)\setminus\mathcal{U}(Z(R))=J(Z(R))$. Let us prove the non-trivial inclusion. 
    Let $x\in Z(R)\setminus\mathcal{U}(Z(R))$.  Then 
    \eqref{eq:U(Z(R))} implies that 
    $x\not\in\mathcal{U}(R)$. 
    By Theorem \ref{thm:local}, 
    $x\in J(R)$. Then $x\in J(R)\cap Z(R)\subseteq J(Z(R))$. 
\end{proof}

\begin{exercise}
\label{eq:local_center}
    Let $R$ be a local ring. Prove that 
    $Z(R)=J(R)\subseteq J(Z(R))$.  
\end{exercise}

\begin{exercise}
\label{xca:local_right}
    Prove that a ring is local if and only if it contains only one maximal right ideal.
\end{exercise}

\begin{exercise}
\label{xca:non_local1}
    Find a non-local ring with a unique maximal ideal. 
\end{exercise}

\begin{exercise}
\label{xca:non_local2}
    Let $R$ be a ring with at least three elements. 
    If $|\mathcal{U}(R)|=1$, then $R$ is not local. 
\end{exercise}

\index{Ring!Von Neumann regular}
A ring $R$ is said to be \textbf{Von Neumann regular} if  
for every non-zero $r\in R$, $r=rxr$ for some $x\in R$. 

\begin{exercise}
\label{xca:VonNeumann_local}
    Prove that a ring $R$ is local if and only if $R$ is a division ring. 
\end{exercise}

\begin{exercise}
\label{xca:nilp_or_unit}
    Let $R$ be a ring such that every element of $R$ is either 
    nilpotent or a unit. Prove that $R$ is local. 
\end{exercise}

\index{Ring!semilocal}
A ring $R$ is said to be \textbf{semilocal} if $R/J(R)$ is left artinian. 

\begin{exercise}
\label{xca:semilocal}
    Prove the following statements:
    \begin{enumerate}
        \item Every local ring is semilocal.
        \item $R$ is semilocal if and only if $R/J(R)$ is semisimple.
        \item If $R$ has finitely many maximal ideals, then $R$ is semilocal. 
        \item If $R_1,\dots,R_k$ are rings, then $\oplus_{i=1}^k R_i$ is semilocal
            if and only if each $R_i$ is semilocal. 
    \end{enumerate}
\end{exercise}

\begin{example}
\label{xca:semilocal_commutative}
    Let $R$ be a ring such that $R/J(R)$ is commutative. Prove
    that $R$ is semilocal if and only if $R$ has finitely many maximal ideals. 
\end{example}

\topic{When is group algebra local?}

\begin{proposition}
    \label{pro:augmentation}
    Let $R$ be a commutative ring with one. 
    Let $f\colon G\to H$ be a group homomorphism with kernel $K$. Then
    \[
    \varphi\colon R[G]\to R[H],
    \quad 
    \sum\lambda_ig_i\mapsto \sum\lambda_if(g),
    \]
    is a ring homomorphism with kernel the ideal 
    of $R[G]$ generated by $\{k-1:k\in K\}$. 
\end{proposition}

\begin{proof}
    A direct calculation shows that the map $\varphi$ is a well-defined ring homomorphism. Let 
    $S=\{k-1:k\in K\}$. Then $(S)\subseteq \ker\varphi$. 
    
    Let us show that 
    $\ker\varphi\subseteq (S)$. Let $\alpha=\sum r_ig_i\in\ker\varphi$. Then 
    \[
    \varphi(\alpha)=\sum r_if(g_i)=0.
    \]
    Let 
    $\{Kg_{i_1},\dots,Kg_{i_k}\}$ be the subset of pairwise distinct cosets 
    of $Kg_1,\dots,Kg_n$. Write  
    \[
    \alpha=\sum\sum s_{ij}k_{ij}g_{i_j}
    \]
    for some $s_{ij}\in R$ and $k_{ij}\in K$. Then 
    \begin{equation}
    \label{eq:0=s_ij}
    0=\varphi(\alpha)=\sum\sum s_{ij}\varphi(k_{ij}g_{i_j})
    =\sum\sum s_{ij}f(g_{i_j}),
    \end{equation}
    as $K=\ker f$. Note that 
    \[
    f(g_{i_j})=f(g_{i_k})\implies 
    g_{i_j}g_{i_k}^{-1}\in K\implies 
    g_{i_j}K=g_{i_k}K.
    \]
    Thus $f(g_{i_j})\ne f(g_{i_k})$ for $j\ne k$. Since $R[H]$ is a free $R$-module 
    with basis $\{h:h\in H\}$, Equality
    \eqref{eq:0=s_ij}
    implies that $\sum_i s_{ij}=0$ for all $j$. Thus
    \[
    \alpha=\sum\sum s_{ij}k_{ij}g_{i_j}=\sum\sum s_{ij}(k_{ij}-1)g_{i_j}\in (S).\qedhere
    \]
\end{proof}

\begin{corollary}
\label{cor:R[G/N]}
    Let $R$ be a commutative ring with one. If 
    $G$ is a group and $N$ is a normal subgroup of $G$, then
    \[
    R[G/N]\simeq R[G]/I,
    \]
    where $I$ is the ideal of $R[G]$ generated by $\{n-1:n\in N\}$. 
\end{corollary}

\begin{proof}
    Apply the previous proposition to the canonical map $\pi\colon G\to G/N$ to get
    a ring homomorphism $\varphi\colon R[G]\to R[G/N]$. The kernel of $\varphi$ is the ideal $I$ 
    generated by the set $\{g-1:g\in\ker\pi=N\}$. Since 
    $\pi$ is surjective, $\varphi$ is surjective. Then 
    the claim follows from the first isomorphism theorem. 
\end{proof}

Let $K$ be a field and $G$ be a group. We write $A(K[G])$ to denote
the ideal of $K[G]$ generated by the set $\{g-1:g\in G\}$. This ideal is known as the
\textbf{augmentation ideal} of $K[G]$. 

\begin{corollary}
\label{cor:local_K[N]_and_K[G/N]}
    Let $K$ be a field. 
    Let $G$ be a group and $N$ be a central subgroup of $G$. If $K[N]$ and $K[G/N]$ are local, 
    then $K[G]$ is local. 
\end{corollary}

\begin{proof}
    By Corollary \ref{cor:R[G/N]}, $K[G/N]\simeq K[G]/I$, where 
    $I$ is the ideal of $K[G]$ generated by $\{n-1:n\in N\}$. Since $N\subseteq Z(G)$, 
    $I$ is central in $K[G]$. Note that 
    \[
    I=A(K[N])K[G].
    \]
    Let $\alpha\in A(K[G])$. 
    Since $K[G/N]$ is local, $A(K[G/N])$ is nil by Theorem \ref{thm:local}. Since $K[G]/I\simeq K[G/N]$, this implies that 
    there exists $m$ such that $\alpha^m\in I$. Since $K[N]$ is local,  
    $A(K[N])$ is nil by Theorem \ref{thm:local}. Moreover, $K[N]$ is central in $K[G]$, because $N\subseteq Z(G)$. This implies that $I=A(K[N])K[G]$ is also nil. In particular, 
    $\alpha$ is nil. Hence 
    $K[G]$ is nil and therefore $K[G]$ is local by Theorem \ref{thm:local}. 
\end{proof}


\begin{exercise}
\label{xca:augmentation}
    Let $R$ be a commutative ring with one and $G$ be a group. 
    Prove that 
    the map $R[G]\to R$, $\sum_{g\in G}r_gg\mapsto\sum_{g\in G}r_g$, is a surjective
    ring homomorphism with kernel $A(R[G])$.  
\end{exercise}

\begin{lemma}
    Let $K$ be a field and $G$ be a finite group. 
    The following statements are equivalent: 
    \begin{enumerate}
        \item $K[G]$ is local. 
        \item $A(K[G])\subseteq J(K[G])$. 
        \item $A(K[G])$ is nil.
        \item $A(K[G])=J(K[G])$. 
    \end{enumerate}
\end{lemma}

\begin{proof}
    Let us prove that $1)\implies 2)$. Since $K[G]$ is local, 
    $R\setminus\mathcal{U}(K[G])=J(K[G])$ by Theorem \ref{thm:local}. Since $K[G]\setminus\mathcal{U}(K[G])$ contains 
    every proper ideal of $K[G]$, $A(K[G])\subseteq J(K[G])$. 

    We now prove that $2)\implies 3)$. Since $G$ is finite, $K[G]$ is artinian. By Lemma \ref{lem:J(R)_nil}, 
    $J(K[G])$ is nil. Hence $A(K[G])$ is nil. 

    We now prove that $3)\implies 4)$. Since $J(K[G])$ contains every nil ideal (see Proposition~\ref{pro:nilJ}), 
    $A(K[G])\subseteq J(K[G])$. On the other hand, $K[G]/A(K[G])\simeq K$. Since $K$ is a field, the correspondence theorem
    implies that $A(K[G])=J(K[G])$. 

    Finally, we prove that $4)\implies 1)$. Since $A(K[G])=J(K[G])$, Exercise \ref{xca:augmentation} implies that 
    $K[G]/J(K[G])\simeq K$. Since $K$ is a field, 
    it is, in particular, a division ring. Thus $K[G]$ is local by Theorem \ref{thm:local}.     
\end{proof}


\begin{exercise}
\label{xca:C_p:local}
    Let $p$ be a prime number, $K$ be a field of characteristic $p$ and 
    $G$ be a cyclic group of order $p$. Prove that $K[G]$ is local. 
\end{exercise}


\begin{exercise}
\label{xca:K[G]_domain_easy}
    Let $K$ be a field and $G$ be a finite group. Then 
    $K[G]$ is a domain if and only if $|G|=1$. 
\end{exercise}


\begin{theorem}
    Let $K$ be a field and $G$ be a non-trivial finite group. 
    Then $K[G]$ is local if and only if $K$ is of characteristic $p>0$ and $G$ is a $p$-group. 
\end{theorem}

\begin{proof}
    Let us first prove $\implies$. Assume first that $K$ is a field of characteristic zero. 
    By Maschke's theorem, $J(K[G])=\{0\}$. By Theorem \ref{thm:local}, 
    $K[G]$ is a division ring. In particular, $K[G]$ is a domain, 
    a contradiction (see Exercise \ref{xca:K[G]_domain_easy}).

    Assume now that $K$ is of characteristic $p>0$. 
    Let $q$ be a prime divisor of $|G|$ and $g\in G$ an element of order $q$. 
    Since 
    \[
    (1-g)(1+\cdots+g^{q-1})=1-g^q=0,
    \]
    $1-g\not\in\mathcal{U}(K[G])$ and $1+\cdots+g^{q-1}\not\in\mathcal{U}(K[G])$. It follows
    that $1-g^m\not\in\mathcal{U}(K[G])$ for all $m\geq0$. By Theorem \ref{thm:local}, 
    $K[G]\setminus J(K[G])$ is an ideal. Thus  
    \[
    q1_G=1+\cdots+g^{q-1}+\sum_{m=1}^{q-1}(1-g^m)\not\in\mathcal{U}(K[G])
    \]
    If $q\ne 0$ in $K$, then $q1_G\in\mathcal{U}(K[G])$. Hence $q=0$ in $K$ and
    therefore $p$ divides $q$. We conclude that $G$ is a $p$-group. 

    We now prove $\impliedby$. Let $G$ be a $p$-group and $K$ be a field of characteristic $p>0$. We proceed
    by induction on $|G|$. 
    If $|G|=p$, $K[G]$ is a local ring (see Exercise \ref{xca:C_p:local}).
    % \[
    % K[G]\simeq K[X]/(X^p-1)\simeq K[X]/((X-1)^p), 
    % \]
    % as $X^p-1=(X-1)^p$. But $K[X]/((X-1)^p)$ is a commutative local ring  
    If $|G|>p$, let $Z=Z(G)$. Since $G$ is a $p$-group, $|Z|\geq p$. Let $N$ be a subgroup of $Z$ of order $p$. 
    Then $|N|<|G|$ and $|G/N|<|G|$. By the inductive hypothesis, both 
    $K[N]$ and $K[G/N]$ are local. By Corollary \ref{cor:local_K[N]_and_K[G/N]}, $K[G]$ is local too. 
\end{proof}

\topic{Hurewitz' theorem}

\begin{theorem}[Hurewicz]
    \label{thm:Hurewicz}
    \index{Hurewicz' theorem}
    Let $G$ be a group and $I$ be the augmentation ideal of $\Z[G]$. 
    Then $G/[G,G]\simeq I/I^2$ as (abelian) groups. 
\end{theorem}

\begin{proof}
    Let $\varphi\colon G\to I/I^2$, $g\mapsto g-1_G+I^2$. Since $g-1_G\in I$ for all $g\in G$, $\varphi$ is well-defined. The map $\varphi$ is a group homomorphism. Since 
    $(g-1_G)(h-1_G)\in I^2$, 
    \begin{align*}
    \varphi(gh) &= gh-1_G+I^2\\
    &=gh-1_G-(g-1_G)(h-1_G)+I^2+I^2\\
    &=g-1_G+h-1_G+I^2\\
    &=\varphi(g)+\varphi(h)
    \end{align*}
    holds for all $g,h\in G$. 

    Since $[G,G]\subseteq\ker\varphi$, there exists a group homomorphism
    \[
    \overline{\varphi}\colon G/[G,G]\to I/I^2,\quad 
    g[G,G]\mapsto g-1_G+I^2.
    \]
    We claim that $\overline{\varphi}$ is an isomorphism. 
    Let us construct the inverse of $\overline{\varphi}$. Let 
    \[
    \psi\colon I\to G/[G,G],\quad 
    \sum_{g\in G}m_g(g-1_G)\mapsto \left(\prod_{g\in G}g^{m_g}\right)[G,G].
    \]
    Since $G/[G,G]$ is abelian, the map $\psi$ is well-defined, that is
    the order of the factors in $\prod_{g\in G}g^{m_g}$ does not matter. Note that 
    $I^2\subseteq\ker\psi$, as 
    $\{(g-1_G)(h-1_G):g,h\in G\}$ generates the additive group $I^2$ 
    and 
    \begin{align*}
        \psi((g-1_G)(h-1_G))&=\psi( (gh-1_G)-(g-1_G)-(h-1_G))\\
        &=(ghg^{-1}h^{-1})[G,G]\\
        &=[G,G].
    \end{align*}
    Therefore there exists a group homomorphism
    \[
    \overline{\psi}\colon I/I^2\to G/[G,G],\quad 
    \sum_{g\in G}m_g(g-1_G)+I^2\mapsto \left(\prod_{g\in G}g^{m_g}\right)[G,G].
    \]
    A direct calculation shows that $\overline{\psi}$ is the inverse 
    of $\overline{\varphi}$. 
\end{proof}

\topic{Semiprime and semiprimitive rings}

\begin{definition}
	A ring $R$ is \textbf{semiprimitive} (or Jacobson semisimple) if  $J(R)=\{0\}$.
\end{definition}

In Lecture \ref{03} we defined primitive rings as
those rings that have a faithful simple module.  We claim that primitive rings
are semiprimitive. If $R$ is primitive, then $\{0\}$ is a primitive ideal. Since
$J(R)$ is the intersection of primitive ideals, it follows that $J(R)=\{0\}$.

\begin{example}
	If $R=\prod_{i\in I}R_i$ is a direct product of semiprimitive rings, then
	$R$ is semiprimitive, as 
	\[
		J(R)=J\left(\prod_{i\in I}R_i\right)=J\left(\prod_{i\in I}J(R_i)\right)=\{0\}.
	\]
\end{example}

\begin{example}
$\Z$ is semiprimitive, as $J(\Z)=\cap_{p}p\Z=\{0\}$.
\end{example}

\begin{example}
	\label{exa:C[a,b]}
	Let $R=C[a,b]$ be the ring of continuous maps $f\colon [a,b]\to\R$. 
	In this case $J(R)$ is the intersection of all maximal ideals of $R$. Note that 
	each maximal ideal of $R$ is of the form 
	\[
		U_c=\{f\in C[a,b]:f(c)=0\}
	\]
	for some $c\in[a,b]$. 
	%Each $U_c$ is a maximal ideal, as 
	%$C[a,b]/U_c\simeq\R$ is a field.  
	Thus $J(R)=\cap_{a\leq c\leq
	b}U_c=\{0\}$.
\end{example}

We proved in Theorem~\ref{thm:J(R/J)=0} (Lecture \ref{04}) 
that $R/J(R)$ is semiprimive. 

%El teorema de densidad de Jacobson nos permite entonces obtener el siguiente resultado:
%
%\begin{theorem}
%	Sea $R$ un anillo no radical. Entonces $R/J(R)$ es isomorfo a un producto
%	subdirecto de anillos densos en espacios vectoriales sobre anillos de
%	división.	
%\end{theorem}
%
%\begin{proof}
%	Si $R$ no es radical, $J(R)\ne R$. Luego $R/J(R))$ es semiprimitivo por el
%	teorema~\ref{thm:semiprimitivo}. El teorema~\ref{thm:subdirecto} y el
%	teorema de densidad de Jacobson completan la demostración del teorema.
%\end{proof}


%\begin{definition}
%	Let $\{R_i:i\in I\}$ be a collection of rings. A subring $R$ of
%	$\prod_{i\in I}R_i$ is said to be a \textbf{subdirect product} of %the
%	collection if each $\pi_j\colon R\to R_j$, $(r_i)_{i\in I}\mapsto %r_j$, is surjective. 
%\end{definition}

\begin{definition}
    \index{Subdirect product}
    Let $\{R_i:i\in I\}$ be an arbitrary family of rings. For each 
    $j\in I$, let $\pi_j\colon \prod_{i\in I}R_i\to R_j$ be the
    canonical map. We say that $R$ is a \textbf{subdirect product}
    of $\{R_i:i\in I\}$ if the following conditions hold:
    \begin{enumerate}
        \item There exists an injective ring homomorphism $R\to \prod_{i\in I}R_i$. 
        \item For each $j$, the composition 
        $\pi_jf\colon R\to R_j$ is injective. 
    \end{enumerate}
\end{definition}

Direct products and direct sums of rings are all examples of subdirect products of rings. 

\begin{exercise}
    Write (if possible) $\Z$ as a non-trivial subdirect product. 
\end{exercise}

\begin{example}
    Let $R$ be a ring,  
    $\{I_j:j\}$ be a collection of ideals of $R$ and
    \[
    f\colon R\to \prod_i R/I_i,
    \quad
    r\mapsto (r+I_i)_i.
    \]
    For each
    $i$, let $R_i=R/I_i$. Then $R$ is a subdirect product
    of the $R_i$ if and only if $f$ is injective. 
\end{example}


%El siguiente teorema justifica que indistintamente llamemos anillos
%semiprimitivos a los anillos semisimples Jacobson:

\begin{theorem}
	\label{thm:subdirecto}
	Let $R$ be a non-zero ring. Then $R$ is semiprimitive if and only if
	$R$ is isomorphic to a subdirect product of primitive rings. 
\end{theorem}

\begin{proof}
	Suppose first that $R$ is semiprimitive and let $\{P_i:i\in I\}$ be the collection of 
	primitive ideals of $R$. Each $R/P_j$ is primitive and 
	$\{0\}=J(R)=\cap_{i\in I}P_i$. For $j$ let $\lambda_j\colon R\to
	R/P_j$ and $\pi_j\colon \prod_{i\in I}R/P_i\to R/P_j$ be canonical maps. 
	The ring homomorphism 
	\[
		\phi\colon R\to\prod_{i\in I}R/P_i,\quad
		r\mapsto \{\lambda_i(r):i\in I\},
	\]
	is injective and satisfies $\pi_j\phi(R)=R/P_j$ for all 
	$j$.

	Assume now that $R$ is isomorphic to a subdirect product of primitive rings 
	$R_j$ and let $\varphi\colon R\to\prod_{i\in I}R_i$ be an injective homomorphism 
	such that $\pi_j(\varphi(R))=R_j$ for all $j$. For $j$ 
	let $P_j=\ker\pi_j\varphi$. Since $R/P_j\simeq R_j$, each $P_j$ is a primitive ideal. 
	If $x\in\cap_{i\in I}P_i$, then $\varphi(x)=0$ and thus $x=0$.
	Hence $J(R)\subseteq\cap_{i\in I} P_i=0$. 
\end{proof}

%\begin{example}
%	$\Z$ is isomorphic to a subdirect %product of the fields $\Z/p$, where 
%	$p$ runs over all prime numbers. 
%\end{example}

\begin{example}
	The ring $C[a,b]$ 
	of Example \ref{exa:C[a,b]}
	is isomorphic to a subdirect product of the fields 
	$C[a,b]/U_c\simeq\R$.
\end{example}

\begin{definition}
	\index{Ring!semiprime}
	A ring $R$ \textbf{semiprime} if 
	$aRa=\{0\}$ implies $a=0$.
\end{definition}

\begin{proposition}
	Let $R$ be a ring. The following statements are equivalent: 
	\begin{enumerate}
		\item $R$ is semiprime.
		\item If $I$ is a left ideal such that $I^2=\{0\}$, then $I=\{0\}$.
		\item If $I$ is an ideal such that $I^2=\{0\}$, then $I=\{0\}$.
		\item $R$ does not contain non-zero nilpotent ideals.
	\end{enumerate}
\end{proposition}

\begin{proof}
	We first prove that $1)\implies2)$. If $I^2=\{0\}$ y $x\in I$, then
	$xRx\subseteq I^2=\{0\}$ and thus $x=0$. The implications $2)\implies3)$
	and $4)\implies3)$ are both trivial. Let us prove that $3)\implies4)$.  If
	$I$ is a non-zero nilpotent ideal, let $n\in\Z_{>0}$ be minimal such that
	$I^n=\{0\}$.  Since $(I^{n-1})^2=\{0\}$, it follows that $I^{n-1}=\{0\}$, a
	contradiction.  Finally, we prove that $3)\implies1)$. Let $a\in R$ be such
	that $aRa=\{0\}$. Then $I=RaR$ is an ideal of $R$ such that $I^2=\{0\}$. Thus 
	$RaR=\{0\}$. This means that $Ra$ and $aR$ are ideals such that
	$(Ra)R=R(aR)=\{0\}$ (for example, $R(aR)\subseteq RaR=\{0\}\subseteq aR$). 
	Moreover, since $(Ra)(Ra)=\{0\}$ and $(aR)(aR)=\{0\}$, it follows that
	$aR=Ra=\{0\}$. 
	This implies that $\Z a$ is an ideal of $R$, as $R(\Z a)\subseteq \Z(Ra)=\{0\}$ and 
	$(\Z a)R\subseteq aR=\{0\}$. Now $(\Z a)(\Z a)\subseteq (\Z a)R=\{0\}$ and hence
	$a=0$, as $\Z a=\{0\}$. 
\end{proof}

Two consequences:

\begin{exercise}
	A commutative ring is semiprime if and only if it does not contain non-zero
	nilpotent elements. 
\end{exercise}

%%% 
We will prove 
in Lecture \ref{09} (Corollary \ref{cor:C[G]_semiprime}) 
that the if $G$ is a group, 
then the ring $\C[G]$ is semiprime. 


% tomar $\alpha$ tal que $\alpha^2=0$ y sea $A=K[G]\alpha$. Como $A^2=0$, $A=0$ y entonces $\alpha=0$.

\begin{exercise}
	Let $D$ be a division ring. 
	\begin{enumerate}
		\item $D[X]$ is semiprime.
		\item $D[\![X]\!]$ is semiprime and it is not semiprimitive.
	\end{enumerate}
\end{exercise}


%\section{Anillos semiprimitivos}
%
%\begin{lemma}
%	\label{lem:Iunitario}
%	Sea $R$ un anillo y sea $I$ un ideal de $R$ unitario. Sea $e\in I$ la
%	unidad de $I$. Entonces $e$ es un idempotente central de $R$, $I=eR$ y
%	existe un ideal $J$ de $R$ tal que $R=I\oplus J$. Además $R\simeq I\times
%	J$.
%\end{lemma}
%
%\begin{proof}
%	Como $e\in I$, $eR\subseteq I$. Luego $I=eR$ pues $I=eI\subseteq eR$. Como
%	$ex\in I$ y $xe\in I$ para todo $x\in R$, $ex=(ex)e$ y $xe=e(xe)$. Luego
%	$ex=xe$ y entonces $e$ es central e idempotente. Sea $J=\{x-ex:x\in R\}$.
%	Es fácil demostrar que $J$ es un ideal tal que $R=I\oplus J$. Además
%	$R\simeq I\times J$, via $x\mapsto (ex,x-ex)$,
%\end{proof}
%
%A continuación daremos una demostración muy sencilla del teorema de Wedderburn
%en el caso de álgebras de dimensión finita.
%
%\begin{theorem}[Artin--Wedderburn]
%	Sea $R$ un anillo artiniano a izquierda y no nulo. Entonces $R$ es
%	semiprimo si y sólo si existen $n_1,\dots,n_r\in\N$ y existen anillos de
%	división $D_1,\dots,D_r$ tales que $R\simeq M_{n_1}(D_1)\times\cdots\times
%	M_{n_r}(D_r)$.
%\end{theorem}
%
%\begin{proof}
%	Procederemos por inducción en $\dim A$. Si $\dim A=1$\dots\framebox{} 
%
%	Supongamos entonces que $\dim A>1$. Si $A$ es un álgebra prima, el
%	resultado se sigue inmediatamente del teorema de Wedderburn. Supongamos
%	entonces que existe $a\in A\setminus\{0\}$ tal que $I=\{x\in A:aAx=0\}$ es
%	no nulo. Como $I$ es un ideal de $A$, $I$ es un álgebra semiprima.
%	\framebox{?} Como $a\not\in I$, $\dim I<\dim A$, y entonces, por hipótesis
%	inductiva, existen $n_1,\dots,n_s\in\N$ y álgebras de división
%	$D_1,\dots,D_s$ tales que 
%	\[
%		I\simeq M_{n_1}(D_1)\times\cdots\times M_{n_s}(D_s).
%	\]
%	En particular, $I$ es unitario. Por el lema~\ref{lem:Iunitario}, existe un
%	ideal $J$ de $A$ tal que $A\simeq I\times J$. Como $\dim J<\dim A$, la hipótesis inductiva
%	implica que existen $n_{s+1},\dots,n_r\in\N$ y álgebras de división $D_{s+1},\dots,D_r$ tales que
%	\[
%		J\simeq M_{n_{s+1}}(D_{s+1})\times\cdots\times M_{n_r}(D_r).
%	\]
%	Luego $A\simeq I\times J\simeq \prod_{j=1}^s M_{n_j}(D_j)$.
%\end{proof}
%
%\begin{corollary}
%	Sea $A$ un álgebra no nula de dimensión finita. Si $A$ es semiprima,
%	entonces $A$ es unitaria.
%\end{corollary}
%
%%Gracias al teorema de Wedderburn se puede ir un poco más lejos:
%%\begin{corollary}
%%	Sea $A$ un álgebra unitaria. Son equivalentes:
%%	\begin{enumerate}
%%		\item $A$ es semiprima.
%%		\item Todo $A$-módulo unitario es semisimple.
%%		\item $A$ es semisimple como $A$-módulo.
%%		\item Todo ideal a izquierda de $A$ es de la forma $Ae$ para algún
%%			idempotente $e\in A$. 
%%	\end{enumerate}
%%\end{corollary}
%%
%%\begin{proof}
%%	La implicación $(1)\implies(2)$ es el teorema de Wedderburn. 
%%	
%%\end{proof}
%
%\begin{example}
%	Por el teorema de Maschke sabemos que si $G$ es un grupo finito, 
%	$\C[G]$ es un álgebra semiprimitiva y luego semisimple.
%\end{example}
%




%\section{Viejo!}
%
%\begin{theorem}[Artin--Wedderburn]
%	\index{Teorema!de Artin--Wedderburn}
%	\label{thm:ArtinWedderburn}
%	Si $R$ es un anillo, las siguientes afirmaciones son equivalentes:
%	\begin{enumerate}
%		\item $R$ es un anillo no nulo semiprimitivo y artiniano a izquierda.
%		\item Existen anillos de división $D_1,\dots,D_r$ y tales que
%			\[
%				R\simeq\prod_{i=1}^r R_i,
%			\]
%			donde $R_i=\End_{D_i}(V_i)$
%		\item Existen anillos de división $D_1,\dots,D_r$ y enteros positivos
%			$n_1,\dots,n_r$ tales que 
%			\[
%			R\simeq M_{n_1}(D_1)\times\cdots\times M_{n_r}(D_r).
%		\]
%	\end{enumerate}
%\end{theorem}
%
%\begin{proof}
%	Demostremos que $(1)\implies(2)$. Como $R\ne0$ y $J(R)=0$, $R$ admite
%	ideales primitivos. Supongamos que existe un número finito de ideales
%	primitivos distintos, digamos $P_1,\dots,P_t$. Cada $R/P_j$ es un anillo
%	primitivo y es artiniano a izquierda \framebox{?}. Entonces, por el teorema
%	de Wedderburn, para cada $j\in\{1,\dots,t\}$ existen un anillo de división
%	$D_j$ y un entero positivo $n_j$ tales que $R/P_j\simeq M_{n_j}(D_j)$. En
%	particular, cada $R/P_j$ es simple y entonces $P_j$ es un ideal maximal de
%	$R$. Como $R/P_j$ es simple, $(R/P_j)^2\ne 0$ y luego $R^2\not\subseteq
%	P_j$. Por maximalidad, $R^2+P_j=R$ y además $P_i+P_j=R$ para todo $i\ne j$.
%	Por el teorema chino del resto,
%	\[
%		R=R/0=R/J(R)=R/\cap_{j=1}^t P_j\simeq R/P_1\times\cdots\times R/P_t.
%	\]
%	Sea $\iota_k\colon R/P_k\to \prod_{j=1}^t R/P_j$ la inclusión canónica.
%	Cada $\iota_k(R/P_k)$ es un ideal simple (es decir, que como anillo es
%	simple) de $\prod_{j=1}^t R/P_j\simeq R$. Luego las imágenes, digamos
%	$I_k$, de los $\iota_k(R/P_k)$ dan ideales simples de $R$ y
%	$R=I_1\times\cdots\times I_t$.
%
%	Demostremos ahora que $(3)\implies(1)$. Para cada $j$ sea
%	$R_j=M_{n_j}(D_j)$. Como cada $R_j$ es primitivo por el teorema de
%	Wedderburn, $J(R_j)=\{0\}$ para todo $j$. Luego
%	$J(R)=\prod_{i=1}^rJ(R_j)=\{0\}$ y entonces $R$ es semiprimitivo. Además
%	$R$ es artiniano a izquierda.\framebox{?}
%\end{proof}
%
%\begin{corollary}
%	Sea $R$ un anillo semiprimitivo.
%	\begin{enumerate}
%		\item Si $R$ es artiniano a izquierda, entonces $R$ es unitario.
%		\item $R$ es artiniano a izquierda si y sólo si es artiniano a derecha.
%		\item Si $R$ es artiniano a izquierda es noetheriano.
%	\end{enumerate}
%\end{corollary}
%
%\begin{proof}
%	La primera afirmación es consecuencia inmediata del teorema de
%	Artin--Wedderburn~\ref{thm:ArtinWedderburn}.
%\end{proof}
%
%\begin{corollary}
%	Sea $R$ un anillo semiprimitivo artiniano a izquierda y sea $I$ un ideal de
%	$R$. Entonces $I=Re$ para algún idempotente $e\in R$ tal que $e\in Z(R)$.
%\end{corollary}
%
%\begin{proof}
%		
%\end{proof}
%
%\begin{proposition}
%	Sea $R$ un anillo semisimple artiniano a izquierda. 
%	\begin{enumerate}
%		\item $R=I_1\times\cdots\times I_n$ donde los $I_j$ son ideales simples.
%		\item Si $J\subseteq R$ es un ideal simple, entonces existe $k\in\{1,\dots,n\}$ tal que $J=I_k$.
%		\item Si $R=J_1\times\cdots\times J_m$ donde los $J_k$ son ideales simples, entonces $n=m$ y existe
%			$\sigma\in\Sym_n$ tal que $I_k=J_{\sigma(k)}$ para todo $k\in\{1,\dots,n\}$.
%	\end{enumerate}
%\end{proposition}
%
%\begin{proof}
%\end{proof}
%
%\begin{theorem}
%	Sea $R$ un anillo unitario no nulo. Las siguientes afirmaciones son
%	equivalentes:
%	\begin{enumerate}
%		\item $R$ es semiprimitivo y artiniano a izquierda.
%		\item Todo $R$-módulo unitario es proyectivo.
%		\item Todo $R$-módulo unitario es inyectivo.
%		\item Toda sucesión exacta de $R$-módulos unitarios se parte.
%		\item Todo $R$-módulo unitario no nulo es semisimple.
%		\item $\prescript{}{R}R$ es unitario y semisimple.
%		\item Todo ideal a izquierda de $R$ es de la forma $Re$ para algún $e\in R$ indempotente.
%		\item $\prescript{}{R}R$ es suma directa de ideales a izquierda
%			minimales $L_1,\dots,L_m$ donde cada $L_j$ es de la forma $Re_j$, y
%			los $e_j$ son idempotentes ortogonales tales que
%			$e_1+\cdots+e_m=1$. 
%	\end{enumerate}
%\end{theorem}
%
%\begin{proof}
%	Veamos que $(4)\implies(5)$. Sea $M$ un módulo unitario y sea $N$ un
%	submódulo no nulo de $M$. Como la sucesión $0\to N\to M\to M/N\to 0$ es
%	exacta, se parte. Luego $M=N\oplus X$ para algún submódulo $X$ de $N$ tal
%	que $X\simeq M/N$. Como $M$ es unitario, $Rm\ne 0$ para todo $m\in
%	M\setminus\{0\}$. Luego $M$ es semisimple por el teorema~\framebox{?}.
%
%	Veamos ahora que $(5)\implies(4)$. Sea 
%	\[
%	\begin{tikzcd}
%		0 \arrow[r]
%		& N \arrow[r]
%		& M \arrow[r]
%		& X \arrow[r]
%		& 0
%	\end{tikzcd}
%	\]
%	una sucesión exacta corta de $R$-módulos. Como $f\colon N\to f(N)$ es un
%	isomorfismo y entonces $f(N)$ es un submódulo del semisimple $M$, $f(N)$ es
%	sumando directo de $M$. Sea $\pi\colon M\to f(N)$ el morfismo canónico.
%	Entonces $\pi f=f$ y $f^{-1}\pi\colon M\to A$ es un morfismo tal que
%	$(f^{-1}\pi)f=\id_N$.\framebox{?}
%
%	Demostremos que $(5)\implies(7)$. Sea $L$ un ideal a izquierda de $R$. Como
%	los ideales a izquierda de $R$ son los submódulos de $\prescript{}{R}R$,
%	existe un ideal a izquierda $N$ de $R$ tal que $R=L\oplus N$. Existen
%	entonces $e_1\in L$ y $e_2\in N$ tales que $1=e_1+e_2$. Si $x\in L$,
%	entonces $x=xe_1+xe_2$ y luego $xe_2=x-xe_1\in L\cap N=\{0\}$. Demostramos
%	entonces que $x=xe_1$ para todo $x\in L$. En particular, $e_1e_1=e_1$ y
%	$L=Re_1$. 
%
%	Demostremos que $(7)\implies(6)$. Sea $L$ un submódulo de
%	$\prescript{}{R}R$. Como entonces $L$ es un ideal a izquierda de $R$,
%	$L=Re$ para algún idempotente $e\in R$. Como el conjunto $R(1-e)$ es un
%	ideal a izquierda de $R$ tal que $R=Re\oplus R(1-e)$, se concluye que
%	$\prescript{}{R}R$ es semisimple.\framebox{?}
%
%	Veamos que $(6)\implies(1)$. Supongamos que $\prescript{}{R}R=\sum_{i\in
%	I}N_i$, donde los $N_j$ son submódulos simples de $\prescript{}{R}R$.
%	Reordenando los $N_j$ si fuera necesario, podemos suponer que existe
%	$k\in\N$ tal que $1=e_1+\cdots+e_k$ y $e_j\in N_j$ para todo
%	$j\in\{1,\dots,k\}$. Si $r\in R$, entonces $r=re_1+\cdots+re_k\in
%	\sum_{i=1}^k N_i$. Luego $R=\sum_{i=1}^k N_i$.
%	Veamos que $J(R)=0$. Si $r\in J(R)$ entonces, como $rN_i=0$ para todo
%	$i\in\{1,\dots,k\}$, se concluye que $r=r1=re_1+\cdots+re_k=0$. Probamos
%	entonces que $R$ es semiprimitivo. Falta ver que $R$ es artiniano a
%	izquierda. Para eso basta obvervar que, como
%	\[
%		\frac{N_1\oplus\cdots\oplus N_i}{N_1\oplus\cdots\oplus N_{i-1}}\simeq N_i
%	\]
%	para cada $i\in\{1,\dots,k\}$, la serie
%	\[
%	R=N_1\oplus\cdots\oplus N_k\supsetneq N_1\oplus\cdots\oplus N_{k-1}\supsetneq\cdots\supsetneq N_1\oplus N_2\supsetneq N_1\supsetneq 0
%	\]
%	es una serie de composición.\framebox{?}
%
%	Veamos que $(1)\implies(8)$. Sin perder generalidad podemos suponer que
%	\[
%	R=\prod_{i=1}^k M_{n_j}(D_j),
%	\]
%	donde los $D_j$ son anillos de división.\framebox{?}
%
%	Veamos que $(8)\implies(5)$. Sea $M$ un módulo unitario no nulo. Si $m\in
%	M$ entonces $L_im$ es un submódulo de $M$. Los $L_jm$ generan a $M$ pues 
%	\[
%	m=1m=e_1m+\cdots+e_km\in\sum L_im.
%	\]
%	Veamos que cada $L_jm$ es simple. Fijado $i$, la función $f\colon L_i\to
%	L_im$, $x\mapsto xm$, es un morfismo sobreyectivo. Como $L_i$ es un ideal a
%	izquierda minimal, $L_i$ es un submódulo simple. Luego $m\ne0$ implica que
%	$f$ es un isomorfismo. Probamos entonces que el conjunto $\{L_jm:1\leq
%	j\leq k,m\in M,L_jm\ne 0\}$ es una familia de submódulos simples cuya suma
%	es $M$.
%\end{proof}


\topic{Jacobson's density theorem}

At this point, it is convenient to recall that
modules over division rings are pretty much as vector spaces over fields. 
Modules over division rings are usually called vector spaces over division rings. 

\begin{definition}
	Let $D$ be a division ring, and $V$ be a vector space over $D$. A subring 
	$R\subseteq\End_D(V)$ is a \textbf{dense ring of linear operators} 
	of $V$ (or simple, \textbf{dense} in $V$) if for every  
	$n\in\Z_{>0}$, every linearly independent set $\{u_1,\dots,u_n\}\subseteq V$ 
	and every (not necessarily linearly independent) subset $\{v_1,\dots,v_n\}\subseteq V$ 
	there exists $f\in R$ such that $f(u_j)=v_j$ for all 
	$j\in\{1,\dots,n\}$.
\end{definition}

%\begin{lemma}
%	Sea $R$ un subanillo de $\End_D(V)$. Entonces $R$ es denso en $V$ si y sólo
%	si para todo $g\in\End_D(V)$ y todo subespacio $U$ de $V$ de dimensión
%	finita existe $f\in R$ tal que $f|_U=g|_U$.
%\end{lemma}
%
%\begin{proof}
%	Supngamos que $R$ es denso en $V$. Sean $g\in\End_D(V)$ y $U\subseteq V$ un
%	subespacio de dimensión finita. Sea $\{u_1,\dots,u_n\}$ una base de $U$.
%	Como $R$ es denso, existe $f\in R$ tal que $f(u_j)=g(u_j)$ para todo
%	$j\in\{1,\dots,n\}$ y luego $f|_U=g|_U$.
%
%	Recíprocamente, sea $n\in\N$ y sean $\{u_1,\dots,u_n\}\subseteq V$ un
%	conjunto linealmente independiente y $\{v_1,\dots,v_n\}\subseteq V$. Sean
%	$g\in\End_D(V)$ tal que $g(u_j)=v_j$ para todo $j\in\{1,\dots,n\}$ y $U$ el
%	subespacio de $V$ generado por $u_1,\dots,u_n$. Por hipótesis existe $f\in
%	R$ tal que $f|_U=g|_U$ y luego $f(u_j)=g(u_j)=v_j$ para todo
%	$j\in\{1,\dots,n\}$.
%\end{proof}

\begin{proposition}
	\label{pro:unique_dense}
	Let $D$ be a division ring and 
    $V$ be a finite-dimensional $D$-vector space.  
	Then $\End_D(V)$ is the only dense ring of $V$.
\end{proposition}

\begin{proof}
	Let $R$ be dense in $V$ and let $\{v_1,\dots,v_n\}$ be a basis of $V$. By definition,
	$R\subseteq\End_D(V)$. If $g\in\End_D(V)$ then, since $R$ is dense in $V$, there
	exists $f\in R$ such that $f(v_j)=g(v_j)$ for all 
	$j\in\{1,\dots,n\}$. Hence $g=f\in R$.
\end{proof}


%Ahora demostraremos el teorema de densidad de Jacobson. 
%Necesitaremos el siguiente
%lema:
%\begin{lemma}
%	\label{lem:densidad}
%	Sea $M$ un $R$-módulo simple y $D=\End_R(M)$.  Si $N$ es un subespacio de
%	$M$ tal que $\dim_DN<\infty$ y $m\in M\setminus N$, entonces existe $r\in
%	R$ tal que $rm\ne 0$ y $rN=0$.
%\end{lemma}
%
%\begin{proof}
%	Supongamos que la afirmación no es cierta y sea $N$ un contraejemplo de la
%	mínima dimensión posible. Entonces $\dim_DN\geq1$ (pues el resultado es
%	verdadero en el caso $N=0$). Sea $N_0$ un subespacio de $N$ tal que $\dim
%	N_0=\dim N-1$ y sea
%	\[
%		L=\{r\in R:rN_0=0\}.
%	\]
%	Como por la minimalidad de $N$ nuestra afirmación es cierta para $N_0$,
%	para cualquier $x\in N\setminus N_0$ se tiene que $Lx=N$ (pues existe $r\in
%	L$ tal que $rx=\ne 0$). Como $L$ es ideal a izquierda de $R$ y
%	$Lx\subseteq N$ es un submódulo, $Lx=N$ pues $N$ es simple.
%
%	Sea $w\in V\setminus U$ tal que nuestra afirmación no es cierta y sea $u\in
%	U\setminus U_0$.  La función 
%	\[
%		\delta\colon V\to V,\quad
%		v\mapsto lw,
%	\]
%	donde $v=lu\in Lu=V$ (que depende de $u$ y $w$) 
%	está bien definida: si $l_1,l_2\in L$ son tales que $v=l_1u=l_2u$ entonces $(l_1-l_2)u=0$ y luego
%	\[
%		0=\delta(0)=\delta((l_1-l_2)u)=(l_1-l_2)w=l_1w-l_2w. 
%	\]
%	Además $\delta$ es morfismo de $R$-módulos pues si $l\in L$ es tal que $v=lu$ entonces
%	\[
%		\delta(rv)=\delta(r(lu))=\delta( (rl)u)=(rl)w=r(lw)=r\delta(v)
%	\]
%	para todo $r\in R$.
%
%
%\end{proof}


\begin{theorem}[Jacobson]
	\label{thm:density}
	\index{Jacobson's density theorem}
	A ring $R$ is primitive if and only if it is isomorphic to a dense ring on 
	a vector space over a division ring.
\end{theorem}

We shall need the following lemma. 

\begin{lemma}
	\label{lem:ideal_denso}
	Let $D$ be a division ring and $V$ be a $D$-vector space. 
	If $R$ is dense in $V$ and $I$ is a non-zero ideal of $R$, then 
	$I$ is dense on $V$. 
\end{lemma}

\begin{proof}
    Fix $n\in\Z_{>0}$. Let 
    $\{u_1,\dots,u_n\}\subseteq V$ be a linearly independent set 
	and let $\{v_1,\dots,v_n\}\subseteq V$. We want to find $\gamma\in I$ such that 
	$\gamma(u_i)=v_i$ for all $i$. Since $I\ne\{0\}$, there exists 
	$h\in I\setminus\{0\}$. This means that 
	$h(u)=v\ne0$ for some $u\ne 0$. Since $R$ is 
	dense on $V$, there exist $g_1,\dots,g_n\in R$ such that 
	\[
	g_i(u_j)=\begin{cases} 
	u & \text{if $i=j$},\\
	0 & \text{otherwise}.
	\end{cases}
	\]
	Further, since $\{v\}$ is a linearly independent subset of $V$, 
	there exist $f_1,\dots,f_n\in R$ such that 
	$f_i(v)=v_i$ for all $i$. Thus $\gamma=\sum_{i=1}^n f_ihg_i\in I$ is such that 
	$\gamma(u_j)=v_j$ for all $j\in\{1,\dots,n\}$.
\end{proof}

Now we are ready to prove Jacobson's density theorem. 

\begin{proof}[Proof of Theorem \ref{thm:density}]
	If $R$ is isomorphic to a dense ring in $V$, where
	$V$ is a $D$-vector space for some division ring $D$, then $R$
	is primitive, as $V$ is a simple and faithful $R$-module. Why faithful? If 
	$f\in\Ann_R(V)$, then $f=0$ since $f(v)=0$ for all $v\in V$. Why simple? 
	If $W\subseteq V$ is a non-zero submodule, let $v\in V$ and $w\in
	W\setminus\{0\}$. There exists $f\in R$ such that $v=f(w)\in W$. 

	Now assume that $R$ is primitive. Let $V$ be a simple faithful module.
	Schur's lemma implies that $D=\End_R(V)$ is a division ring. Thus $V$ is
	a $D$-vector space with 
	\[
	D\times V\to V,\quad
	(\delta,v)\mapsto \delta v=\delta(v),
	\]
	For $r\in R$ let  
	\[
		\gamma_r\colon V\to V,\quad
		v\mapsto rv.
	\]
	A straightforward calculation shows that $\gamma_r\in\End_D(V)$ and that
    $R\to\End_D(V)$,
	$r\mapsto\gamma_r$, is a ring homomorphism. Since $V$ is faithful,
	$R\simeq\gamma(R)=\{\gamma_r:r\in R\}$. In fact, if $\gamma_r=\gamma_s$, then 
	$rv=\gamma_r(v)=\gamma_s(v)=sv$ for all $v\in V$ and hence $r=s$, as
	$(r-s)v=0$ for all $v\in V$.

	\begin{claim}
		If $U$ is a finite-dimensional submodule of $V$, 
		for each $w\in V\setminus U$ there exists $r\in R$ such that 
		$\gamma_r(U)=\{0\}$ and $\gamma_r(w)\ne0$.
	\end{claim}

	Suppose the claim is not true. Let $U$ be a counterexample of minimal  
	dimension. Then
	$\dim_DU\geq1$, as the claim holds for the zero submodule. Let 
	$U_0$ be a submodule of $U$ such that 
	$\dim U_0=\dim U-1$ and let 
	\[
		L=\{l\in R:\gamma_l(U_0)=\{0\}\}.
	\]
	The minimality of the dimension of $U$ shows that the claim is true for $U_0$, so
	any $v\in V\setminus U_0$ is such that $Lv=V$. Since there exists $l\in
	L$ such that $lv=\gamma_l(v)\ne 0$ and $L$ is a left ideal of $R$, it follows
	that $Lv\subseteq V$ is a submodule and the claim follows from the simplicity of
	$V$.
	
	Let $w\in V\setminus U$ be such that the claim is not true. Let $u\in
	U\setminus U_0$. The map  
	\[
		\delta\colon V\to V,\quad
		v\mapsto lw,
	\]
	where $v=lu\in Lu=V$ (that depends both on $u$ and $w$) 
	is well-defined: if $l_1,l_2\in L$ are such that 
	$v=l_1u=l_2u$, then $(l_1-l_2)u=0$ and thus 
	\[
		0=\delta(0)=\delta((l_1-l_2)u)=(l_1-l_2)w=l_1w-l_2w. 
	\]
	Further, $\delta$ is a homomorphism of modules over $R$, as if 
	$l\in L$ is such that $v=lu$, then 
	\[
		\delta(rv)=\delta(r(lu))=\delta( (rl)u)=(rl)w=r(lw)=r\delta(v)
	\]
	for all $r\in R$.

	For every $l\in L$,  
	\[
		l(\delta(u)-w)=l\delta(u)-lw=\delta(lu)-lw=0.
	\]
	Thus $L(\delta(u)-w)=\{0\}$. This implies that $\delta(u)-w\not\in V\setminus U_0$, 
	that is $\delta(u)-w\in U_0$. Therefore  
	\[
		w=xu-(xu-w)\in Du+U_0=U,
	\]
	a contradiction.
	
	Now the theorem follows from the claim. Let 
	$u_1,\dots,u_n\in V$ be linearly independent vectors and let 
	$v_1,\dots,v_n\in V$ arbitrary vectors. Fix $i\in\{1,\dots,n\}$. 
	The previous claim with 
	\[
		U=\langle u_1,\dots,u_{i-1},u_{i+1},\dots,u_n\rangle
	\]
	and $w=u_i$ implies that there exists $r_i\in R$ such that $\gamma_{r_i}(u_j)=0$ if 
	$j\ne i$ and $\gamma_{r_i}(u_i)\ne 0$. Since there exists $s_i\in R$ such that 
	$\gamma_{s_i}\gamma_{r_i}(u_i)=v_i$, it follows that 
	$r=\sum_{j=1}^n s_jr_j\in R$ is such that $\gamma_r(u_i)=v_i$ for all 
	$i\in\{1,\dots,n\}$.
\end{proof}

%\begin{exercise}
%	Sea $R$ un anillo denso en $V$. Demuestre que $R$ es artiniano a izquierda
%	si y sólo si $V$ es de dimensión finita.
%\end{exercise}
% si V es de dimensión finita, es fácil por el lema~\ref{lem:unico_denso}
% hungerford pag 419

\begin{corollary}
	If $R$ is a primitive ring, then either there exists a division ring $D$
	such that $R\simeq\End_D(V)$ for some finite-dimensional module $V$ over $D$ or 
	for all $m\in\Z_{>0}$ there exists a subring $R_m$ of 
	$R$ and a surjective ring homomorphism $R_m\to\End_D(V_m)$ for some module 
	$V_m$ over $D$ such that $\dim_DV_m=m$.
\end{corollary}

\begin{proof}
	The ring $R$ admits a simple faithful module $V$. Furthermore, by Jacobson's density 
	theorem we may assume that there exists a division ring $D$ 
	such that $R$ is dense in a module $V$ over $D$. 
	Let $\gamma\colon R\to\End_D(V)$, $r\mapsto\gamma_r$, where 
	$\gamma_r(v)=rv$. Since $V$ is faithful, $\gamma$ is injective. Thus 
	$R\simeq\gamma(R)$. 

	If $\dim_DV<\infty$, the result follows from Proposition \ref{pro:unique_dense}. 
	Assume that $\dim_DV=\infty$ and let $\{u_1,u_2,\dots\}$ be a linearly independent set. 
	For each $m\in\Z_{>0}$ let $V_m$ be the subspace generated by $\{u_1,\dots,u_m\}$
	and $R_m=\{r\in R:rV_m\subseteq V_m\}$. Then $R_m$ is a subring of $R$. 
	Since $R$ is dense in $V$, the map 
	\[
		R_m\to \End_D(V_m),\quad
		r\mapsto\gamma_r|_{V_m}
	\]
	is a surjective ring homomorphism. 
\end{proof}

